AirdropContract Documentation
=============================

The `AirdropContract` is a Solidity smart contract that extends the ERC721 standard (with URI storage) and uses Ownable access control from OpenZeppelin. It is designed for minting unique NFTs where each token's identifier is constructed using a token prefix, a sequential minted count (padded to a fixed length), and an expiration timestamp.

Table of Contents
-----------------

*   Overview
    
*   Deployment on Polygon
    
*   Inheritance
    
*   State Variables
    
*   Functions
    
    *   mint
        
    *   totalSupply
        
    *   \_baseURI
        
*   Usage Example
    
*   License
    

Overview
--------

*   **Name:** Votoppia Airdrop
    
*   **Symbol:** RANFT
    

The contract enables the owner to mint NFTs where each token ID is uniquely generated by concatenating:

1.  A user-specified **tokenPrefix** (a 6-digit number between 100,000 and 999,999),
    
2.  A sequential counter (`mintedCount`) padded with zeros to ensure a fixed length (14 digits),
    
3.  An **expiration** timestamp (which must be in the future and below a defined limit).
    

The resulting concatenated string is then converted into a `uint256` that serves as the token's ID. Additionally, each token's URI is set to a JSON file (named after the token ID) hosted under a predefined base URI.

Deployment on Polygon
---------------------

This contract is designed to be deployed on the **Polygon (Matic) Network**, ensuring low gas fees and high-speed transactions for NFT minting and transfers.

### Recommended Deployment Steps:

1.  **Select a Polygon RPC provider**: Use a service like Alchemy, Infura, or QuickNode to connect to the Polygon network.
    
2.  **Compile and Deploy**: Use Hardhat or Truffle to compile and deploy the contract to the Polygon network.
    
3.  **Fund Deployment Wallet**: Ensure the deploying wallet has sufficient MATIC for gas fees.
    
4.  **Verify Contract on Polygonscan**: After deployment, verify the contract source code on [Polygonscan](https://polygonscan.com/) for transparency.
    

Inheritance
-----------

The contract inherits from the following OpenZeppelin contracts:

*   `ERC721URIStorage`
    
*   `Ownable`
    

State Variables
---------------

*   `**mintedCount**` (`uint256 public`):  
    A counter tracking the total number of NFTs minted so far.
    

Functions
---------

### mint

```
function mint(
    uint256 tokenPrefix,
    uint256 expiration,
    address addr
) public onlyOwner returns (uint256)
```

**Description:**  
Mints a new NFT and assigns it to a specified address. The function generates a unique token ID by concatenating three components:

1.  **Token Prefix:** A 6-digit number (must be between 100,000 and 999,999).
    
2.  **Scarcity (Minted Count):** The current `mintedCount`, padded to 14 digits.
    
3.  **Expiration:** A timestamp that must be in the future and below `9,999,999,999`.
    

After minting, the token URI is set to `"[tokenId].json"` (appended to the base URI).

**Access Control:**  
This function is restricted to the contract owner (`onlyOwner`).

**Parameters:**

*   `tokenPrefix` (`uint256`): A numeric prefix for the token ID. Must be greater than 100,000 and less than 999,999.
    
*   `expiration` (`uint256`): The expiration timestamp for the NFT. Must be greater than the current block timestamp and less than `9,999,999,999`.
    
*   `addr` (`address`): The address to which the NFT will be minted.
    

**Returns:**

*   `uint256`: The generated token ID.
    

**Reverts:**

*   If `expiration` is not in the valid range.
    
*   If `tokenPrefix` is not in the valid range.
    

* * *

### totalSupply

function totalSupply() public pure returns (uint256)

**Description:**  
Returns a constant representing the maximum supply of tokens that can be minted. For this contract, it returns the value `999_999_999_999_99`.

**Returns:**

*   `uint256`: The maximum token supply.
    

* * *

### \_baseURI

function \_baseURI() internal pure override returns (string memory)

**Description:**  
Overrides the ERC721 `_baseURI` function to provide the base URI used for constructing token URIs. The returned base URI is:

https://api.votoppia.com/nfts/metadata/

**Returns:**

*   `string`: The base URI for token metadata.
    

* * *

Usage Example
-------------

Below is an example demonstrating how to deploy the contract and mint a new NFT.

### Deployment

Deploy the contract by specifying the initial owner:

AirdropContract airdrop = new AirdropContract(initialOwnerAddress);

### Minting an NFT

As the contract owner, mint a new NFT by providing the required parameters:

uint256 tokenId = airdrop.mint(

123456, // tokenPrefix (must be between 100,000 and 999,999)

block.timestamp + 3600, // expiration (must be in the future; here, 1 hour later)

recipientAddress // address of the NFT recipient

);

After minting:

*   The token ID is generated by concatenating the token prefix, the zero-padded minted count, and the expiration timestamp.
    
*   The NFT is minted and assigned to `recipientAddress`.
    
*   The token URI is set to `"[tokenId].json"` under the base URI.
    

* * *

License
-------

This contract is licensed under the MIT License.